{% from "_render_pages_nav.html" import render_pages_nav %}
{% from "_render_pages_nav_search.html" import search_results_pages_nav %}
<div id="lns--top">
        {% include "include_breadcrumbs.html" %}
        {% if alphabet %}
        <nav class="pagelinks pagelinks--letters {{ 'pagelinks--letters-home' if request.path == '/' }}" aria-label="letters of the alphabet">
            <ul>{%- for beta in alphabet.keys() -%}
                <li class="{{ 'btn--pagelink--current' if beta == letter}}"><a href="/a-z/{{ beta }}"><span class="ltr">{{ '#' if beta == "1" else beta }}</span><span class="nbr">{{alphabet[beta]}}</span></a></li> 
                {%- endfor -%}</ul>
        </nav>
        {% endif %}
{% if request.path[:5] == "/a-z/" %}
        {% if closest_letters %}
            <h1 class="headline--alphabet">No Bands <small>starting with</small> {{ letter|upper }}!</h1>
        {% else %}
        <!-- section | display contents on section for mobile-->
        <section class="paged-results-info" aria-label="paged results links">
            <h1 class="headline--alphabet">Bands <small>starting with{{ ' a' if letter == "_" else ''}}</small> {{'Number or $ymbol' if letter == "1" else letter|upper }}
            <br><span class="headline--strapline">{{ 'in alphabetical order' if letter != "_" else '&nbsp;'|safe }}</span>
            </h1>
            <nav class="pagelinks pagelinks--pagenums"> <!-- next letter -->
            {{ render_pages_nav(bands, 'public.a2z', { 'letter': letter }) }}
            </nav>
        </section>
        {% endif %}
{% elif request.path[:8] == "/genres/" %}
{% set genre = request.view_args['genre'] %}
{# {% include "include_breadcrumbs.html" %}
    {% if bands %}
        <nav class="pagelinks pagelinks--letters" aria-label="letters of the alphabet">
            <ul>{%- for beta in alphabet.keys() -%}
                <li class="{{ 'btn--pagelink--current' if beta == letter}}"><a href="{{ '/genres/'~genre~'/'~beta   }}"><span class="ltr">{{ '#' if beta == "1" else beta }}</span><span class="nbr">{{alphabet[beta]}}</span></a></li> 
                {%- endfor -%}</ul>
        </nav> #}
        <nav class="pagelinks pagelinks--pagenums"> <!-- next letter -->
        {{ render_pages_nav(bands, 'public.get_by_genre', { 'genre' : genre, 'letter' : letter }) }}
        </nav>
    {# {% endif %} #}
{% else %}
    {# {% include "include_breadcrumbs.html" %} #}
    {% if bands %}
        {# <nav class="pagelinks pagelinks--letters {{ 'pagelinks--letters-home' if request.path == '/' }}" aria-label="letters of the alphabet">
            <ul>
                {% for beta in alphabet %}     
                <li class="only"><a class="{{ 'btn--pagelink--current' if beta == letter}}" href="{{ '/?'~search~'&letter='~beta~'&page=1'  if search else '/a-z/'~beta~'?page=1' }}">{{ '#' if beta == "1" else beta }}</a></li>
                {% endfor %}
            </ul>
        </nav> #}
    {% if search_terms %}
        <section aria-label="paged results" class="paged-results">
        <p>{{ 'Page ' + request.args['page']|string + ' of ' + count|string + ', '  if count > 1 }}
            {%- if search_terms  -%}
                {%- if count > 1 -%}
                showing <a href="{{url_for('public.search')}}">search results</a> for&nbsp;
                {%- endif -%}
                {{ search_terms|safe }}</p>
            {%- endif -%}
        <small class="debug">{{ search }}</small>
        </section>
        <nav class="pagelinks pagelinks--pagenums">
        {% if request.args['page'] %}
        {% set page = request.args['page']|int %}
        {% else %}
        {% set page = 1 %}
        {% endif %}
        {{ render_pages_nav(bands, false, search, letter, page) }}
        </nav>
     {% endif %}
{% endif %}
{% endif %}
</div>
{# if route = http://localhost:5000/manage/bands style #}